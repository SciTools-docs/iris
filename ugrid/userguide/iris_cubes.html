

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Iris data structures &mdash; Iris 3.0.dev0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/theme_override.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Loading Iris cubes" href="loading_iris_cubes.html" />
    <link rel="prev" title="Introduction" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/iris-logo-title.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing Iris</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generated/gallery/index.html">Gallery</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Iris data structures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#coordinates">Coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cube">Cube</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cubes-in-practice">Cubes in practice</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#a-simple-cube-example">A simple cube example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#printing-a-cube">Printing a cube</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="loading_iris_cubes.html">Loading Iris cubes</a></li>
<li class="toctree-l1"><a class="reference internal" href="saving_iris_cubes.html">Saving Iris cubes</a></li>
<li class="toctree-l1"><a class="reference internal" href="navigating_a_cube.html">Navigating a cube</a></li>
<li class="toctree-l1"><a class="reference internal" href="subsetting_a_cube.html">Subsetting a Cube</a></li>
<li class="toctree-l1"><a class="reference internal" href="real_and_lazy_data.html">Real and Lazy Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting_a_cube.html">Plotting a cube</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolation_and_regridding.html">Cube interpolation and regridding</a></li>
<li class="toctree-l1"><a class="reference internal" href="merge_and_concat.html">Merge and concatenate</a></li>
<li class="toctree-l1"><a class="reference internal" href="cube_statistics.html">Cube statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="cube_maths.html">Basic cube mathematics</a></li>
<li class="toctree-l1"><a class="reference internal" href="citation.html">Citing Iris</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_maintenance.html">Code maintenance</a></li>
</ul>
<p class="caption"><span class="caption-text">Developers Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/contributing_documentation.html">Contributing to the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/documenting/index.html">Documentation in Iris</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/gitwash/index.html">Working with <em>iris</em> source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/code_format.html">Code formatting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/pulls.html">Pull request check List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/tests.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/deprecations.html">Deprecations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/release.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generated/api/iris.html">Iris API</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew/index.html">What’s new in Iris</a></li>
<li class="toctree-l1"><a class="reference internal" href="../techpapers/index.html">Iris Technical Papers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">Iris copyright, licensing and contributors</a></li>
</ul>

            
          

    
    
    
        <p class="caption">
            <span class="caption-text">
            
                Support
            
            </span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://github.com/SciTools/iris"><i class="fa fa-github fa-fw"></i> Source Code</a></li>
            
                <li class="toctree-l1"><a href="https://groups.google.com/forum/#!forum/scitools-iris"><i class="fa fa-comments fa-fw"></i> Users Google Group</a></li>
            
                <li class="toctree-l1"><a href="https://groups.google.com/forum/#!forum/scitools-iris-dev"><i class="fa fa-comments fa-fw"></i> Developers Google Group</a></li>
            
                <li class="toctree-l1"><a href="https://stackoverflow.com/questions/tagged/python-iris"><i class="fa fa-question fa-fw"></i> StackOverflow For "How do I?"</a></li>
            
                <li class="toctree-l1"><a href="https://scitools.org.uk/iris/docs/v2.4.0/index.html"><i class="fa fa-book fa-fw"></i> Legacy documentation</a></li>
            
        </ul>
    

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Iris</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Iris data structures</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/userguide/iris_cubes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="iris-data-structures">
<span id="id1"></span><h1>Iris data structures<a class="headerlink" href="#iris-data-structures" title="Permalink to this headline">¶</a></h1>
<p>The top level object in Iris is called a cube. A cube contains data and metadata about a phenomenon.</p>
<p>In Iris, a cube is an interpretation of the <em>Climate and Forecast (CF) Metadata Conventions</em> whose purpose is to:</p>
<blockquote>
<div><p><em>require conforming datasets to contain sufficient metadata that they are self-describing… including physical
units if appropriate, and that each value can be located in space (relative to earth-based coordinates) and time.</em></p>
</div></blockquote>
<p>Whilst the CF conventions are often mentioned alongside NetCDF, Iris implements several major format importers which can take
files of specific formats and turn them into Iris cubes. Additionally, a framework is provided which allows users
to extend Iris’ import capability to cater for specialist or unimplemented formats.</p>
<p>A single cube describes one and only one phenomenon, always has a name, a unit and
an n-dimensional data array to represents the cube’s phenomenon. In order to locate the
data spatially, temporally, or in any other higher-dimensional space, a collection of <em>coordinates</em>
exist on the cube.</p>
<div class="section" id="coordinates">
<h2>Coordinates<a class="headerlink" href="#coordinates" title="Permalink to this headline">¶</a></h2>
<p>A coordinate is a container to store metadata about some dimension(s) of a cube’s data array and therefore,
by definition, its phenomenon.</p>
<blockquote>
<div><ul>
<li><p>Each coordinate has a name and a unit.</p></li>
<li><p>When a coordinate is added to a cube, the data dimensions that it represents are also provided.</p>
<blockquote>
<div><ul class="simple">
<li><p>The shape of a coordinate is always the same as the shape of the associated data dimension(s) on the cube.</p></li>
<li><p>A dimension not explicitly listed signifies that the coordinate is independent of that dimension.</p></li>
<li><p>Each dimension of a coordinate must be mapped to a data dimension. The only coordinates with no mapping are
scalar coordinates.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Depending on the underlying data that the coordinate is representing, its values may be discrete points or be
bounded to represent interval extents (e.g. temperature at <em>point x</em> <strong>vs</strong> rainfall accumulation <em>between 0000-1200 hours</em>).</p></li>
<li><p>Coordinates have an attributes dictionary which can hold arbitrary extra metadata, excluding certain restricted CF names</p></li>
<li><p>More complex coordinates may contain a coordinate system which is necessary to fully interpret the values
contained within the coordinate.</p></li>
</ul>
</div></blockquote>
<p>There are two classes of coordinates:</p>
<blockquote>
<div><p><strong>DimCoord</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Numeric</p></li>
<li><p>Monotonic</p></li>
<li><p>Representative of, at most, a single data dimension (1d)</p></li>
</ul>
</div></blockquote>
<p><strong>AuxCoord</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>May be of any type, including strings</p></li>
<li><p>May represent multiple data dimensions (n-dimensional)</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="cube">
<h2>Cube<a class="headerlink" href="#cube" title="Permalink to this headline">¶</a></h2>
<p>A cube consists of:</p>
<blockquote>
<div><ul>
<li><p>a standard name and/or a long name and an appropriate unit</p></li>
<li><p>a data array who’s values are representative of the phenomenon</p></li>
<li><p>a collection of coordinates and associated data dimensions on the cube’s data array, which are split into two separate lists:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>dimension coordinates</em> - DimCoords which uniquely map to exactly one data dimension, ordered by dimension.</p></li>
<li><p><em>auxiliary coordinates</em> - DimCoords or AuxCoords which map to as many data dimensions as the coordinate has dimensions.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>an attributes dictionary which, other than some protected CF names, can hold arbitrary extra metadata.</p></li>
<li><p>a list of cell methods to represent operations which have already been applied to the data (e.g. “mean over time”)</p></li>
<li><p>a list of coordinate “factories” used for deriving coordinates from the values of other coordinates in the cube</p></li>
</ul>
</div></blockquote>
<div class="section" id="cubes-in-practice">
<h3>Cubes in practice<a class="headerlink" href="#cubes-in-practice" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="a-simple-cube-example">
<h2>A simple cube example<a class="headerlink" href="#a-simple-cube-example" title="Permalink to this headline">¶</a></h2>
<p>Suppose we have some gridded data which has 24 air temperature readings (in Kelvin) which is located at
4 different longitudes, 2 different latitudes and 3 different heights. Our data array can be represented pictorially:</p>
<img alt="../_images/multi_array.png" src="../_images/multi_array.png" />
<p>Where dimensions 0, 1, and 2 have lengths 3, 2 and 4 respectively.</p>
<p>The Iris cube to represent this data would consist of:</p>
<blockquote>
<div><ul>
<li><p>a standard name of <code class="docutils literal notranslate"><span class="pre">air_temperature</span></code> and a unit of <code class="docutils literal notranslate"><span class="pre">kelvin</span></code></p></li>
<li><p>a data array of shape <code class="docutils literal notranslate"><span class="pre">(3,</span> <span class="pre">2,</span> <span class="pre">4)</span></code></p></li>
<li><p>a coordinate, mapping to dimension 0, consisting of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a standard name of <code class="docutils literal notranslate"><span class="pre">height</span></code> and unit of <code class="docutils literal notranslate"><span class="pre">meters</span></code></p></li>
<li><p>an array of length 3 representing the 3 <code class="docutils literal notranslate"><span class="pre">height</span></code> points</p></li>
</ul>
</div></blockquote>
</li>
<li><p>a coordinate, mapping to dimension 1, consisting of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a standard name of <code class="docutils literal notranslate"><span class="pre">latitude</span></code> and unit of <code class="docutils literal notranslate"><span class="pre">degrees</span></code></p></li>
<li><p>an array of length 2 representing the 2 latitude points</p></li>
<li><p>a coordinate system such that the <code class="docutils literal notranslate"><span class="pre">latitude</span></code> points could be fully located on the globe</p></li>
</ul>
</div></blockquote>
</li>
<li><p>a coordinate, mapping to dimension 2, consisting of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a standard name of <code class="docutils literal notranslate"><span class="pre">longitude</span></code> and unit of <code class="docutils literal notranslate"><span class="pre">degrees</span></code></p></li>
<li><p>an array of length 4 representing the 4 longitude points</p></li>
<li><p>a coordinate system such that the <code class="docutils literal notranslate"><span class="pre">longitude</span></code> points could be fully located on the globe</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p>Pictorially the cube has taken on more information than a simple array:</p>
<img alt="../_images/multi_array_to_cube.png" src="../_images/multi_array_to_cube.png" />
<p>Additionally further information may be optionally attached to the cube.
For example, it is possible to attach any of the following:</p>
<blockquote>
<div><ul>
<li><p>a coordinate, not mapping to any data dimensions, consisting of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a standard name of <code class="docutils literal notranslate"><span class="pre">time</span></code> and unit of <code class="docutils literal notranslate"><span class="pre">days</span> <span class="pre">since</span> <span class="pre">2000-01-01</span> <span class="pre">00:00</span></code></p></li>
<li><p>a data array of length 1 representing the time that the data array is valid for</p></li>
</ul>
</div></blockquote>
</li>
<li><p>an auxiliary coordinate, mapping to dimensions 1 and 2, consisting of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a long name of <code class="docutils literal notranslate"><span class="pre">place</span> <span class="pre">name</span></code> and no unit</p></li>
<li><p>a 2d string array of shape <code class="docutils literal notranslate"><span class="pre">(2,</span> <span class="pre">4)</span></code> with the names of the 8 places that the lat/lons correspond to</p></li>
</ul>
</div></blockquote>
</li>
<li><p>an auxiliary coordinate “factory”, which can derive its own mapping, consisting of:</p>
<blockquote>
<div><ul class="simple">
<li><p>a standard name of <code class="docutils literal notranslate"><span class="pre">height</span></code> and a unit of <code class="docutils literal notranslate"><span class="pre">feet</span></code></p></li>
<li><p>knowledge of how data values for this coordinate can be calculated given the <code class="docutils literal notranslate"><span class="pre">height</span> <span class="pre">in</span> <span class="pre">meters</span></code> coordinate</p></li>
</ul>
</div></blockquote>
</li>
<li><p>a cell method of “mean” over “ensemble” to indicate that the data has been meaned over
a collection of “ensembles” (i.e. multiple model runs).</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="printing-a-cube">
<h2>Printing a cube<a class="headerlink" href="#printing-a-cube" title="Permalink to this headline">¶</a></h2>
<p>Every Iris cube can be printed to screen as you will see later in the user guide. It is worth familiarising yourself with the
output as this is the quickest way of inspecting the contents of a cube. Here is the result of printing a real life cube:</p>
<span class="target" id="hybrid-cube-printout"></span><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>air_potential_temperature / (K)     (time: 3; model_level_number: 7; grid_latitude: 204; grid_longitude: 187)
     Dimension coordinates:
          time                           x                      -                 -                    -
          model_level_number             -                      x                 -                    -
          grid_latitude                  -                      -                 x                    -
          grid_longitude                 -                      -                 -                    x
     Auxiliary coordinates:
          forecast_period                x                      -                 -                    -
          level_height                   -                      x                 -                    -
          sigma                          -                      x                 -                    -
          surface_altitude               -                      -                 x                    x
     Derived coordinates:
          altitude                       -                      x                 x                    x
     Scalar coordinates:
          forecast_reference_time: 2009-11-19 04:00:00
     Attributes:
          STASH: m01s00i004
          source: Data from Met Office Unified Model
          um_version: 7.3
</pre></div>
</div>
<p>Using this output we can deduce that:</p>
<blockquote>
<div><ul class="simple">
<li><p>The cube represents air potential temperature.</p></li>
<li><p>There are 4 data dimensions, and the data has a shape of <code class="docutils literal notranslate"><span class="pre">(3,</span> <span class="pre">7,</span> <span class="pre">204,</span> <span class="pre">187)</span></code></p></li>
<li><p>The 4 data dimensions are mapped to the <code class="docutils literal notranslate"><span class="pre">time</span></code>, <code class="docutils literal notranslate"><span class="pre">model_level_number</span></code>,
<code class="docutils literal notranslate"><span class="pre">grid_latitude</span></code>, <code class="docutils literal notranslate"><span class="pre">grid_longitude</span></code> coordinates respectively</p></li>
<li><p>There are three 1d auxiliary coordinates and one 2d auxiliary (<code class="docutils literal notranslate"><span class="pre">surface_altitude</span></code>)</p></li>
<li><p>There is a single <code class="docutils literal notranslate"><span class="pre">altitude</span></code> derived coordinate, which spans 3 data dimensions</p></li>
<li><p>There are 7 distinct values in the “model_level_number” coordinate. Similar inferences can
be made for the other dimension coordinates.</p></li>
<li><p>There are 7, not necessarily distinct, values in the <code class="docutils literal notranslate"><span class="pre">level_height</span></code> coordinate.</p></li>
<li><p>There is a single <code class="docutils literal notranslate"><span class="pre">forecast_reference_time</span></code> scalar coordinate representing the entire cube.</p></li>
<li><p>The cube has one further attribute relating to the  phenomenon.
In this case the originating file format, PP, encodes information in a STASH code which in some cases can
be useful for identifying advanced experiment information relating to the phenomenon.</p></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="loading_iris_cubes.html" class="btn btn-neutral float-right" title="Loading Iris cubes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        
        &copy; <a href="../copyright.html">Copyright</a> Iris contributors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>