

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>v1.0 (17 Oct 2012) &mdash; Iris 3.1.dev0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/theme_override.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery-dataframe.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Iris technical papers" href="../techpapers/index.html" />
    <link rel="prev" title="v1.1 (03 Jan 2013)" href="1.1.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/iris-logo-title.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing Iris</a></li>
<li class="toctree-l1"><a class="reference internal" href="../generated/gallery/index.html">Gallery</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userguide/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/iris_cubes.html">Iris data structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/loading_iris_cubes.html">Loading Iris cubes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/saving_iris_cubes.html">Saving Iris cubes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/navigating_a_cube.html">Navigating a cube</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/subsetting_a_cube.html">Subsetting a cube</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/real_and_lazy_data.html">Real and lazy data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/plotting_a_cube.html">Plotting a cube</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/interpolation_and_regridding.html">Cube interpolation and regridding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/merge_and_concat.html">Merge and concatenate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/cube_statistics.html">Cube statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/cube_maths.html">Cube maths</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/citation.html">Citing Iris</a></li>
<li class="toctree-l1"><a class="reference internal" href="../userguide/code_maintenance.html">Code maintenance</a></li>
</ul>
<p class="caption"><span class="caption-text">Further Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../further_topics/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../further_topics/metadata.html">Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../further_topics/lenient_metadata.html">Lenient metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../further_topics/lenient_maths.html">Lenient cube maths</a></li>
</ul>
<p class="caption"><span class="caption-text">Developers Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/contributing_getting_involved.html">Getting involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/gitwash/index.html">Working with Iris source code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/contributing_documentation.html">Contributing to the documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/contributing_codebase_index.html">Contributing to the code base</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/contributing_changes.html">Contributing your changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/release.html">Releases</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../generated/api/iris.html">Iris API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">What’s new in Iris</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="latest.html">&lt;unreleased&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="3.0.html">v3.0 (01 Oct 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.4.html">v2.4 (20 Feb 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.3.html">v2.3 (19 Dec 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.2.html">v2.2 (11 Oct 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.1.html">v2.1 (06 Jun 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="2.0.html">v2.0 (14 Feb 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.13.html">v1.13 (17 May 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.12.html">v1.12 (31 Jan 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.11.html">v1.11 (29 Oct 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.10.html">v1.10 (05 Sep 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.9.html">v1.9 (10 Dec 2015)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.8.html">v1.8 (14 Apr 2015)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.7.html">v1.7 (04 Jul 2014)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.6.html">v1.6 (26 Jan 2014)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.5.html">v1.5 (13 Sep 2013)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.4.html">v1.4 (14 Jun 2013)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.3.html">v1.3 (27 Mar 2013)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.2.html">v1.2 (28 Feb 2013)</a></li>
<li class="toctree-l2"><a class="reference internal" href="1.1.html">v1.1 (03 Jan 2013)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">v1.0 (17 Oct 2012)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-role-of-1-x">The role of 1.x</a></li>
<li class="toctree-l3"><a class="reference internal" href="#features">Features</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cf-netcdf-coordinate-systems">CF-netCDF coordinate systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-cartopy-for-mapping-in-matplotlib">Using Cartopy for mapping in matplotlib</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hybrid-pressure">Hybrid-pressure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#netcdf">NetCDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="#brewer-colour-palettes">Brewer colour palettes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#citations">Citations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#metadata-attributes">Metadata attributes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#new-loading-functions">New loading functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cube-projection">Cube projection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#incompatible-changes">Incompatible changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecations">Deprecations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../techpapers/index.html">Iris technical papers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">Iris copyright, licensing and contributors</a></li>
</ul>

            
          

    
    
    
        <p class="caption">
            <span class="caption-text">
            
                Support
            
            </span>
        </p>
        <ul>
            
                <li class="toctree-l1"><a href="https://github.com/SciTools/iris"><i class="fa fa-github fa-fw"></i> Source code</a></li>
            
                <li class="toctree-l1"><a href="https://groups.google.com/forum/#!forum/scitools-iris"><i class="fa fa-comments fa-fw"></i> Users Google Group</a></li>
            
                <li class="toctree-l1"><a href="https://groups.google.com/forum/#!forum/scitools-iris-dev"><i class="fa fa-comments fa-fw"></i> Developers Google Group</a></li>
            
                <li class="toctree-l1"><a href="https://stackoverflow.com/questions/tagged/python-iris"><i class="fa fa-question fa-fw"></i> StackOverflow for "How do I?"</a></li>
            
                <li class="toctree-l1"><a href="https://scitools.org.uk/iris/docs/v2.4.0/index.html"><i class="fa fa-book fa-fw"></i> Legacy documentation</a></li>
            
        </ul>
    

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Iris</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">What’s new in Iris</a> &raquo;</li>
        
      <li>v1.0 (17 Oct 2012)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/whatsnew/1.0.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="v1-0-17-oct-2012">
<h1>v1.0 (17 Oct 2012)<a class="headerlink" href="#v1-0-17-oct-2012" title="Permalink to this headline">¶</a></h1>
<p>This document explains the changes made to Iris for this release
(<a class="reference internal" href="index.html"><span class="doc">View all changes</span></a>.)</p>
<p>With the release of Iris 1.0, we have broadly completed the transition
to the CF data model, and established a stable foundation for future
work. Following this release we plan to deliver significant performance
improvements and additional features.</p>
<div class="section" id="the-role-of-1-x">
<h2>The role of 1.x<a class="headerlink" href="#the-role-of-1-x" title="Permalink to this headline">¶</a></h2>
<p>The 1.x series of releases is intended to provide a relatively stable,
backwards-compatible platform based on the CF-netCDF data model, upon
which long-lived services can be built.</p>
<p>Iris 1.0 targets the data model implicit in CF-netCDF 1.5. This will be
extended to cover the new features of CF-netCDF 1.6 (e.g. discrete
sampling geometries) and any subsequent versions which maintain
backwards compatibility. Similarly, as the efforts of the CF community
to formalise their data model reach maturity, they will be included
in Iris where significant backwards-compatibility can be maintained.</p>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<p>A summary of the main features added with version 1.0:</p>
<ul class="simple">
<li><p>Hybrid-pressure vertical coordinates, and the ability to load from GRIB.</p></li>
<li><p>Initial support for CF-style coordinate systems.</p></li>
<li><p>Use of Cartopy for mapping in matplotlib.</p></li>
<li><p>Load data from NIMROD files.</p></li>
<li><p>Availability of Cynthia Brewer colour palettes.</p></li>
<li><p>Add a citation to a plot.</p></li>
<li><p>Ensures netCDF files are properly closed.</p></li>
<li><p>The ability to bypass merging when loading data.</p></li>
<li><p>Save netCDF files with an unlimited dimension.</p></li>
<li><p>A more explicit set of load functions, which also allow the automatic
cube merging to be bypassed as a last resort.</p></li>
<li><p>The ability to project a cube with a lat-lon or rotated lat-lon coordinate
system into a range of map projections e.g. Polar Stereographic.</p></li>
<li><p>Cube summaries are now more readable when the scalar coordinates
contain bounds.</p></li>
</ul>
<div class="section" id="cf-netcdf-coordinate-systems">
<h3>CF-netCDF coordinate systems<a class="headerlink" href="#cf-netcdf-coordinate-systems" title="Permalink to this headline">¶</a></h3>
<p>The coordinate systems in Iris are now defined by the CF-netCDF
<a class="reference external" href="https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#grid-mappings-and-projections">grid mappings</a>.
As of Iris 1.0 a subset of the CF-netCDF coordinate systems are
supported, but this will be expanded in subsequent versions. Adding
this code is a relatively simple, incremental process - it would make a
good task to tackle for users interested in getting involved in
contributing to the project.</p>
<p>The coordinate systems available in Iris 1.0 and their corresponding
Iris classes are:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 71%" />
<col style="width: 29%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>CF name</p></th>
<th class="head"><p>Iris class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_latitude_longitude">Latitude-longitude</a></p></td>
<td><p><a class="reference internal" href="../generated/api/iris/coord_systems.html#iris.coord_systems.GeogCS" title="iris.coord_systems.GeogCS"><code class="xref py py-class docutils literal notranslate"><span class="pre">GeogCS</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_rotated_pole">Rotated pole</a></p></td>
<td><p><a class="reference internal" href="../generated/api/iris/coord_systems.html#iris.coord_systems.RotatedGeogCS" title="iris.coord_systems.RotatedGeogCS"><code class="xref py py-class docutils literal notranslate"><span class="pre">RotatedGeogCS</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_transverse_mercator">Transverse Mercator</a></p></td>
<td><p><a class="reference internal" href="../generated/api/iris/coord_systems.html#iris.coord_systems.TransverseMercator" title="iris.coord_systems.TransverseMercator"><code class="xref py py-class docutils literal notranslate"><span class="pre">TransverseMercator</span></code></a></p></td>
</tr>
</tbody>
</table>
<p>For convenience, Iris also includes the <a class="reference internal" href="../generated/api/iris/coord_systems.html#iris.coord_systems.OSGB" title="iris.coord_systems.OSGB"><code class="xref py py-class docutils literal notranslate"><span class="pre">OSGB</span></code></a>
class which provides a simple way to create the transverse Mercator
coordinate system used by the British
<a class="reference external" href="http://www.ordnancesurvey.co.uk/">Ordnance Survey</a>.</p>
</div>
<div class="section" id="using-cartopy-for-mapping-in-matplotlib">
<span id="whats-new-cartopy"></span><h3>Using Cartopy for mapping in matplotlib<a class="headerlink" href="#using-cartopy-for-mapping-in-matplotlib" title="Permalink to this headline">¶</a></h3>
<p>The underlying map drawing package has now been updated to use
<a class="reference external" href="http://scitools.github.com/cartopy">Cartopy</a>. Cartopy provides a
highly flexible set of mapping tools, with a consistent, intuitive
interface. As yet it doesn’t have feature-parity with basemap, but its
goal is to make maps “just work”, making it the perfect complement to Iris.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">iris.plot.map_setup</span></code> function has now been replaced with a cleaner
interface:</p>
<blockquote>
<div><ul>
<li><p>To draw a cube on its native map project, one can simply draw the cube directly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">iris.plot</span> <span class="k">as</span> <span class="nn">iplt</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">iplt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">cube</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>To draw a cube on the native map and extents of another, one can use the
<a class="reference internal" href="../generated/api/iris/plot.html#iris.plot.default_projection" title="iris.plot.default_projection"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.plot.default_projection()</span></code></a> and
<a class="reference internal" href="../generated/api/iris/plot.html#iris.plot.default_projection_extent" title="iris.plot.default_projection_extent"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.plot.default_projection_extent()</span></code></a> functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">iris.plot</span> <span class="k">as</span> <span class="nn">iplt</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">cube1_projection</span> <span class="o">=</span> <span class="n">iplt</span><span class="o">.</span><span class="n">default_projection</span><span class="p">(</span><span class="n">cube1</span><span class="p">)</span>
<span class="n">cube1_extent</span> <span class="o">=</span> <span class="n">iplt</span><span class="o">.</span><span class="n">default_projection_extent</span><span class="p">(</span><span class="n">cube1</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">cube1_projection</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_extent</span><span class="p">(</span><span class="n">cube1_extent</span><span class="p">,</span> <span class="n">cube1_projection</span><span class="p">)</span>
<span class="n">iplt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">cube2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">iris.plot.gcm</span></code> function to get the current map is now
redundant; instead the current map <em>is</em> the current matplotlib axes,
and <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.gca.html#matplotlib.pyplot.gca" title="(in Matplotlib v3.3.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.gca()</span></code></a> should be used instead.</p>
</div>
<p>For more examples of what can be done with Cartopy, see the Iris gallery and
<a class="reference external" href="http://scitools.github.com/cartopy">Cartopy’s documentation</a>.</p>
</div>
<div class="section" id="hybrid-pressure">
<h3>Hybrid-pressure<a class="headerlink" href="#hybrid-pressure" title="Permalink to this headline">¶</a></h3>
<p>With the introduction of the <a class="reference internal" href="../generated/api/iris/aux_factory.html#iris.aux_factory.HybridPressureFactory" title="iris.aux_factory.HybridPressureFactory"><code class="xref py py-class docutils literal notranslate"><span class="pre">HybridPressureFactory</span></code></a>
class, it is now possible to represent data expressed on a
<a class="reference external" href="https://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html#_atmosphere_hybrid_sigma_pressure_coordinate">hybrid-pressure vertical coordinate</a>.
A hybrid-pressure factory is created with references to the coordinates
which provide the components of the hybrid coordinate (“ap” and “b”) and
the surface pressure. In return, it provides a virtual “pressure”
coordinate whose values are derived from the given components.</p>
<p>This facility is utilised by the GRIB2 loader to automatically provide
the derived “pressure” coordinate for certain data <a class="footnote-reference brackets" href="#f1" id="id1">1</a> from the
<a class="reference external" href="http://www.ecmwf.int/">ECMWF</a>.</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Where the level type is either 105 or 119, and where the
surface pressure has an ECMWF paramId of
<a class="reference external" href="https://apps.ecmwf.int/codes/grib/param-db/?id=152">152</a>.</p>
</dd>
</dl>
</div>
<div class="section" id="netcdf">
<h3>NetCDF<a class="headerlink" href="#netcdf" title="Permalink to this headline">¶</a></h3>
<p>When saving a Cube to a netCDF file, Iris will now define the outermost
dimension as an unlimited/record dimension. In combination with the
<a class="reference internal" href="../generated/api/iris/cube.html#iris.cube.Cube.transpose" title="iris.cube.Cube.transpose"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.cube.Cube.transpose()</span></code></a> method, this allows any dimension to
take the role of the unlimited/record dimension.</p>
<p>For example, a Cube with the structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">iris</span> <span class="s1">&#39;Cube&#39;</span> <span class="n">of</span> <span class="n">air_potential_temperature</span> <span class="p">(</span><span class="n">time</span><span class="p">:</span> <span class="mi">6</span><span class="p">;</span> <span class="n">model_level_number</span><span class="p">:</span> <span class="mi">70</span><span class="p">;</span> <span class="n">grid_latitude</span><span class="p">:</span> <span class="mi">100</span><span class="p">;</span> <span class="n">grid_longitude</span><span class="p">:</span> <span class="mi">100</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>would result in a netCDF file whose CDL definition would include:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dimensions</span><span class="p">:</span>
        <span class="n">time</span> <span class="o">=</span> <span class="n">UNLIMITED</span> <span class="p">;</span> <span class="o">//</span> <span class="p">(</span><span class="mi">6</span> <span class="n">currently</span><span class="p">)</span>
        <span class="n">model_level_number</span> <span class="o">=</span> <span class="mi">70</span> <span class="p">;</span>
        <span class="n">grid_latitude</span> <span class="o">=</span> <span class="mi">100</span> <span class="p">;</span>
        <span class="n">grid_longitude</span> <span class="o">=</span> <span class="mi">100</span> <span class="p">;</span>
</pre></div>
</div>
<p>Also, Iris will now ensure that netCDF files are properly closed when
they are no longer in use. Previously this could cause problems when
dealing with large numbers of netCDF files, or in long running
processes.</p>
</div>
<div class="section" id="brewer-colour-palettes">
<h3>Brewer colour palettes<a class="headerlink" href="#brewer-colour-palettes" title="Permalink to this headline">¶</a></h3>
<p>Iris includes a selection of carefully designed colour palettes produced
by Cynthia Brewer. The <a class="reference internal" href="../generated/api/iris/palette.html#module-iris.palette" title="iris.palette"><code class="xref py py-mod docutils literal notranslate"><span class="pre">iris.palette</span></code></a> module registers the Brewer
colour palettes with matplotlib, so they are explicitly selectable via
the <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.set_cmap.html#matplotlib.pyplot.set_cmap" title="(in Matplotlib v3.3.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.set_cmap()</span></code></a> function. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">iris.palette</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">plt</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">set_cmap</span><span class="p">(</span><span class="s1">&#39;brewer_RdBu_11&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="citations">
<h3>Citations<a class="headerlink" href="#citations" title="Permalink to this headline">¶</a></h3>
<p>Citations can easily be added to a plot using the <a class="reference internal" href="../generated/api/iris/plot.html#iris.plot.citation" title="iris.plot.citation"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.plot.citation()</span></code></a>
function. The recommended text for the Cynthia Brewer citation is provided
by <code class="xref py py-data docutils literal notranslate"><span class="pre">iris.plot.BREWER_CITE</span></code>.</p>
<p>To include a reference in a journal article or report please refer to
<a class="reference external" href="http://www.personal.psu.edu/cab38/ColorBrewer/ColorBrewer_updates.html">section 5</a>
in the citation guidance provided by Cynthia Brewer.</p>
</div>
<div class="section" id="metadata-attributes">
<h3>Metadata attributes<a class="headerlink" href="#metadata-attributes" title="Permalink to this headline">¶</a></h3>
<p>Iris now stores “source” and “history” metadata in Cube attributes.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">stock</span><span class="o">.</span><span class="n">global_pp</span><span class="p">())</span>
<span class="go">air_temperature                     (latitude: 73; longitude: 96)</span>
<span class="go">     ...</span>
<span class="go">     Attributes:</span>
<span class="go">          ...</span>
<span class="go">          source: Data from Met Office Unified Model</span>
<span class="go">     ...</span>
</pre></div>
</div>
<p>Where previously it would have appeared as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">air_temperature</span>                     <span class="p">(</span><span class="n">latitude</span><span class="p">:</span> <span class="mi">73</span><span class="p">;</span> <span class="n">longitude</span><span class="p">:</span> <span class="mi">96</span><span class="p">)</span>
     <span class="o">...</span>
     <span class="n">Scalar</span> <span class="n">coordinates</span><span class="p">:</span>
          <span class="o">...</span>
          <span class="n">source</span><span class="p">:</span> <span class="n">Data</span> <span class="kn">from</span> <span class="nn">Met</span> <span class="n">Office</span> <span class="n">Unified</span> <span class="n">Model</span>
     <span class="o">...</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This change breaks backwards compatibility with Iris 0.9. But
if it is desirable to have the “source” metadata expressed as a
coordinate then it can be done with the following pattern:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">src</span> <span class="o">=</span> <span class="n">cube</span><span class="o">.</span><span class="n">attributes</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">)</span>
<span class="n">src_coord</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">coords</span><span class="o">.</span><span class="n">AuxCoord</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">long_name</span><span class="o">=</span><span class="s1">&#39;source&#39;</span><span class="p">)</span>
<span class="n">cube</span><span class="o">.</span><span class="n">add_aux_coord</span><span class="p">(</span><span class="n">src_coord</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="new-loading-functions">
<h3>New loading functions<a class="headerlink" href="#new-loading-functions" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>The main functions for loading cubes are now:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="../generated/api/iris.html#iris.load" title="iris.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load()</span></code></a></p></li>
<li><p><a class="reference internal" href="../generated/api/iris.html#iris.load_cube" title="iris.load_cube"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_cube()</span></code></a></p></li>
<li><p><a class="reference internal" href="../generated/api/iris.html#iris.load_cubes" title="iris.load_cubes"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_cubes()</span></code></a></p></li>
</ul>
</dd>
</dl>
<p>These provide convenient cube loading suitable for both interactive
(<a class="reference internal" href="../generated/api/iris.html#iris.load" title="iris.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load()</span></code></a>) and scripted (<a class="reference internal" href="../generated/api/iris.html#iris.load_cube" title="iris.load_cube"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_cube()</span></code></a>,
<a class="reference internal" href="../generated/api/iris.html#iris.load_cubes" title="iris.load_cubes"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_cubes()</span></code></a>) usage.</p>
<p>In addition, <a class="reference internal" href="../generated/api/iris.html#iris.load_raw" title="iris.load_raw"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_raw()</span></code></a> has been provided as a last resort
for situations where the automatic cube merging is not appropriate.
However, if you find you need to use this function we would encourage
you to contact the Iris developers so we can see if a fix can be made
to the cube merge algorithm.</p>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_strict()</span></code> function has been deprecated. Code should
now use the <a class="reference internal" href="../generated/api/iris.html#iris.load_cube" title="iris.load_cube"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_cube()</span></code></a> and <a class="reference internal" href="../generated/api/iris.html#iris.load_cubes" title="iris.load_cubes"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_cubes()</span></code></a>
functions instead.</p>
</div>
<div class="section" id="cube-projection">
<h3>Cube projection<a class="headerlink" href="#cube-projection" title="Permalink to this headline">¶</a></h3>
<p>Iris now has the ability to project a cube into a number of map projections.
This functionality is provided by <a class="reference internal" href="../generated/api/iris/analysis/cartography.html#iris.analysis.cartography.project" title="iris.analysis.cartography.project"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.analysis.cartography.project()</span></code></a>.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">iris</span>
<span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Load data</span>
<span class="n">cube</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">load_cube</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">sample_data_path</span><span class="p">(</span><span class="s1">&#39;air_temp.pp&#39;</span><span class="p">))</span>

<span class="c1"># Transform cube to target projection</span>
<span class="n">target_proj</span> <span class="o">=</span> <span class="n">ccrs</span><span class="o">.</span><span class="n">RotatedPole</span><span class="p">(</span><span class="n">pole_longitude</span><span class="o">=</span><span class="mf">177.5</span><span class="p">,</span>
                               <span class="n">pole_latitude</span><span class="o">=</span><span class="mf">37.5</span><span class="p">)</span>
<span class="n">new_cube</span><span class="p">,</span> <span class="n">extent</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">analysis</span><span class="o">.</span><span class="n">cartography</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">cube</span><span class="p">,</span> <span class="n">target_proj</span><span class="p">)</span>

<span class="c1"># Plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">target_proj</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">pcolor</span><span class="p">(</span><span class="n">new_cube</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="s1">&#39;projection_x_coordinate&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">points</span><span class="p">,</span>
           <span class="n">new_cube</span><span class="o">.</span><span class="n">coord</span><span class="p">(</span><span class="s1">&#39;projection_y_coordinate&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">points</span><span class="p">,</span>
           <span class="n">new_cube</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>This function is intended to be used in cases where the cube’s coordinates
prevent one from directly visualising the data, e.g. when the longitude
and latitude are two dimensional and do not make up a regular grid. The
function uses a nearest neighbour approach rather than any form of
linear/non-linear interpolation to determine the data value of each cell
in the resulting cube. Consequently it may have an adverse effect on the
statistics of the data e.g. the mean and standard deviation will not be
preserved. This function currently assumes global data and will if
necessary extrapolate beyond the geographical extent of the source cube.</p>
</div>
</div>
<div class="section" id="incompatible-changes">
<h2>Incompatible changes<a class="headerlink" href="#incompatible-changes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The “source” and “history” metadata are now represented as Cube
attributes, where previously they used coordinates.</p></li>
<li><p><a class="reference internal" href="../generated/api/iris/cube.html#iris.cube.Cube.coord_dims" title="iris.cube.Cube.coord_dims"><code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.cube.Cube.coord_dims()</span></code></a> now returns a tuple instead of a list.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">iris.plot.gcm</span></code> and <code class="docutils literal notranslate"><span class="pre">iris.plot.map_setup</span></code> functions are now removed.
See <a class="reference internal" href="#whats-new-cartopy"><span class="std std-ref">Using Cartopy for mapping in matplotlib</span></a> for further details.</p></li>
</ul>
</div>
<div class="section" id="deprecations">
<h2>Deprecations<a class="headerlink" href="#deprecations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.coords.Coord.cos()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">iris.coords.Coord.sin()</span></code> have been deprecated.</p></li>
<li><p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_strict()</span></code> function has been deprecated. Code
should now use the <a class="reference internal" href="../generated/api/iris.html#iris.load_cube" title="iris.load_cube"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_cube()</span></code></a> and
<a class="reference internal" href="../generated/api/iris.html#iris.load_cubes" title="iris.load_cubes"><code class="xref py py-func docutils literal notranslate"><span class="pre">iris.load_cubes()</span></code></a> functions instead.</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../techpapers/index.html" class="btn btn-neutral float-right" title="Iris technical papers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="1.1.html" class="btn btn-neutral float-left" title="v1.1 (03 Jan 2013)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        
        &copy; <a href="../copyright.html">Copyright</a> Iris Contributors

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>